<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			#box{
				width: 100%;
				height: 700px;
				border: 1px solid red;
				position: relative;
			}
			#block{
				width: 160px;
				height: 20px;
				background-color: plum;
				position: absolute;
			    top: 530px;
			    left:700px;
			}
			#boll{
				width: 30px;
				height: 30px;
				border-radius: 50%;
				background-color: pink;
				position: absolute;
			    /*top: 484px;
			    left:770px ;*/
			}
		</style>
	</head>
	<body>
		<div id="box">
			<p id="boll"></p>
		
		<div id="block"></div>
		</div>
		
	</body>
	<script type="text/javascript">
		var block=document.getElementById("block");
		var boll=document.getElementById("boll");
		var box=document.getElementById("box");
		
		var L=parseInt(Math.random() * 2) - 2;
		    var T=parseInt(Math.random() * 2) - 2;
			setInterval(function(){
				var bl=boll.offsetLeft+L;
				var bt=boll.offsetTop+T;
				if (bl>=box.clientWidth-boll.clientWidth) {
					bl=box.clientWidth-boll.clientWidth
				L*=-1;
				}else if(bl<0){
					bl=0;
				L*=-1;
					
				}
				if (bt>=box.clientHeight-boll.clientHeight) {
					bt=box.clientHeight-boll.clientHeight
				T*=-1;
				}else if(bt<0){
					bt=0;
				T*=-1;
					
				}
				boll.style.left=bl+"px";
				boll.style.top=bt+"px";
				
			},10)
			block.onmousedown=function(event){
			event=event||window.event;
				var ol=event.clientX-block.offsetLeft;
				
			box.onmousemove=function(event){
				event=event||window.event;
				var bl=event.clientX-ol;
//				var bt=event.clientY
				
				block.style.left=bl+"px";
			
				
			}
		};
	</script>
</html>
