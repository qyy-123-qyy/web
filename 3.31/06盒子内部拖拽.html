<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			div{
				width: 800px;
				height: 800px;
				border: 1px solid red;
				margin: 100px auto;
				position: relative;
			}
				p{
				width: 100px;
				height: 100px;
				background-color: palegoldenrod;
				position: absolute;
				top: 0;
				left: 0;
			}
		</style>
	</head>
	<body>
		<div id="aa">
			<p id="bb"></p>
		</div>
		<script type="text/javascript">
			var aa=document.getElementById("aa");
			var bb=document.getElementById("bb");
			//鼠标按下
			bb.onmousedown=function(event){
				event=event||window.event;
				var bbX=event.clientX-bb.offsetLeft;
				var bbY=event.clientY-bb.offsetTop;
				aa.onmousemove=function(event){
				event=event||window.event;
					var x=event.clientX-bbX;
					var y=event.clientY-bbY;
					if(x<10)x=0;
					if(y<10)y=0;
					if(x>aa.clientWidth-bb.clientWidth-10){
						x=aa.clientWidth-bb.clientWidth;
					}
					
					if(y>aa.clientHeight-bb.clientHeight-10){
						y=aa.clientHeight-bb.clientHeight;
					}
					bb.style.left=x+"px";
					bb.style.top=y+"px";
					
				}
				document.onmouseup=function(){
					aa.onmousemove=null;
				}
			}
			
		</script>
	</body>
</html>
